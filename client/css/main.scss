// **********
// * These styles will be set dynamically at some point
// **********

$blockX: 16px;
$blockY: 20px;
$fw: $blockX * 40;
$fh: $blockY * 25;

$bmf: bm, verdana, sans-serif;
$m7f: m7, courier, monospace;

$black: #000;
$red: #f00;
$green: #0f0;
$yellow: #ff0;
$blue: #00f;
$magenta: #f0f;
$cyan: #0ff;
$white: #fff;
$cblue: #00007f; //control color

@function color($col) {
    @if $col == "BK" { @return $black; }
    @if $col == "R" { @return $red; }
    @if $col == "G" { @return $green; }
    @if $col == "Y" { @return $yellow; }
    @if $col == "BL" { @return $blue; }
    @if $col == "M" { @return $magenta; }
    @if $col == "C" { @return $cyan; }
    @if $col == "W" { @return $white; }
} 

@function buildTD($int) {
    $td : "";
    @for $i from 0 through $int {
        $td : $td + " + td";
    }
    @return $td;
}

@each $col in BK, R, G, Y, BL, M, C, W {
    .#{$col} {
        background-color: color($col);
    }
    .f-#{$col} {
        color: color($col);
    }
}

/*
    
    oh + selector, y u so buggy?


$td :"";
@each $col in BK, R, G, Y, BL, M, C, W {
    @for $i from 0 through 39 {
        $td : buildTD($i);
            #grid td.#{$col} + td.new #{$td} {
                background-color: color($col);
            }
    }
}

*/

// ** End dynamic styles
 

// **********
// * Tags
// **********

body {
    position: relative;
}
  
textarea {
    background: #000;
    border: 0;
    color: #fff;
    font: normal 20px/20px ttx2;
    overflow: hidden;
    outline: none;
    padding: 0;
    position: absolute;
    left: 0;
    resize: none;
    top: 0;
    width: $fw;
}

// **********
// * Layout
// **********

#tools, #canvas {
    float: left;
}

#tools {
    margin-top: 40px;
    div.toolset {
        float: left;
        margin-right: 10px;
        padding: 10px;
        width: 80px;
        ul {
            border: 3px inset #ccc;
            padding: 5px;
            width: 25px;
            li {
                border: 2px inset #ccc;
                margin-bottom: 5px;
                opacity: .4;
                &.selected {
                    border-style: outset;
                    opacity: 1;
                }
                a {
                    display: block;
                    height: 20px;
                    width: 20px;
                }
            } 
        }
    }
}

.ui-selectable-helper {
    border-color: #fff;
}

#canvas {
    background: #000;
    height: $fh;
    margin-right: 20px;
    margin-top: 40px;
    position: relative;
    width: $fw;
    z-index: 50;
 
    div.marquee {
        div.border {
            border: 1px solid #333;
        }
        &.selected {
            div.border {
                border: 1px dashed #fff;
            }
        }
        z-index: 50;
    }
      
    table.grid {
        height: $fh;
        width: $fw;
        z-index: 50;
        tr {
            td {
                float: left;
                position: relative;
                height: $blockY;
                width: $blockX;
                z-index: 50;
                &:hover {
                    background-color: #fff;
                }
                &.ui-selecting {
                    background-color: #666;
                }
                &.ui-selected {
                    //background-color: yellow;
                    span.cc {
                        background: #eee;
                        color: #666;
                    }
                }
                &.ui-selecting {
                    span.cc {
                        background: #f00;
                        color: #000;
                    }
                }
                &.collide {
                    background-color: #f00;
                }
                span.cc {
                    background: #666;
                    display: block;
                    color: #eee;
                    font: normal #{$blockX}/#{$blockY} ttx2gra;
                    height: $blockY;
                    position: relative;
                    width: $blockX;
                    z-index: 100;
                }
            }
        }
    }
}

